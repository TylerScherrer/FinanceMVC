@model BudgetTracker.Models.Transaction

@{
    ViewData["Title"] = "Edit Transaction"; // Set the page title for the browser tab
}

<div class="container py-5">
    <!-- Center the form using Bootstrap's grid system -->
    <div class="row justify-content-center">
        <div class="col-lg-6 col-md-8 col-sm-10">
            <!-- Card container for the edit form -->
            <div class="card shadow-sm border-0">
                <!-- Card header with title -->
                <div class="card-header bg-primary text-white text-center">
                    <h3 class="fw-bold mb-0">Edit Transaction</h3>
                </div>
                <div class="card-body">
                    <!-- Form for editing a transaction -->
                    <form asp-action="Edit" method="post">
                        <!-- Hidden fields to preserve ID and CategoryId -->
                        <input type="hidden" asp-for="Id" />
                        <input type="hidden" asp-for="CategoryId" />

                        <!-- Description input -->
                        <div class="mb-4">
                            <label asp-for="Description" class="form-label fw-bold">Description</label>
                            <input asp-for="Description" 
                                   class="form-control" 
                                   placeholder="Enter description" 
                                   required />
                            <!-- Validation message for Description -->
                            <span asp-validation-for="Description" class="text-danger"></span>
                        </div>

                        <!-- Amount input -->
                        <div class="mb-4">
                            <label asp-for="Amount" class="form-label fw-bold">Amount</label>
                            <input asp-for="Amount" 
                                   class="form-control" 
                                   type="number" 
                                   step="0.01" 
                                   min="0" 
                                   value="@Model.Amount.ToString("F2")" 
                                   placeholder="Enter amount" 
                                   required />
                            <!-- Validation message for Amount -->
                            <span asp-validation-for="Amount" class="text-danger"></span>
                        </div>

                        <!-- Date input -->
                        <div class="mb-4">
                            <label asp-for="Date" class="form-label fw-bold">Date</label>
                            <input asp-for="Date" 
                                   class="form-control" 
                                   type="date" 
                                   required />
                            <!-- Validation message for Date -->
                            <span asp-validation-for="Date" class="text-danger"></span>
                        </div>

                        <!-- Save and Cancel buttons -->
                        <div class="d-flex justify-content-between">
                            <!-- Submit button to save changes -->
                            <button type="submit" class="btn custom-create-btn">Save Changes</button>
                            <!-- Cancel button to return to the category details page -->
                            <a asp-action="Details" 
                               asp-controller="Category" 
                               asp-route-id="@Model.CategoryId" 
                               class="btn custom-delete-btn">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" /> <!-- Include client-side validation scripts -->
}
